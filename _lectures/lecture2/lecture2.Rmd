---
title: "Lecture 2"
description: |
  TODO
draft: true
author:
  - name: Jannik Buhr 
    url: https://jmbuhr.de
date: 11-02-2020
output:
  distill::distill_article:
    self_contained: false
    toc: true
categories:
  - lecture
bibliography: ["../../references.bib"]
---

```{r setup, include=FALSE}
library(knitr)
knitr::opts_chunk$set(
  echo = TRUE
)
```

# Video

Watch today's video here:

<iframe width="560" height="315" src="https://www.youtube.com/embed/AgpWX18dby4" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

# Slides

Hover over the slides and press **f** for full screen.
Press **?** for a list of keyboard shortcuts.

```{r}
knitr::include_url("slides2.html")
```

# Script

## Making Ourselves at Home in RStudio

### Important Settings

TODO Why

```{r rstudio-settings, echo=FALSE, fig.show='hold', out.width='40%', fig.cap="RStudio Settings"}
knitr::include_graphics(c("img/RS_settings.png", "img/RS_settings2.png"))
```

### Project-based Workflow

TODO
  What is a working directory?
  How do we handle it?
  Why not `setwd()`?

> Tradeoff of Rmarkdown vs. R Scrip
  when it comes to working direcories
  
TODO `here`-package?

## Reading Data with `readr`

TODO readr package


```{r}
library(tidyverse)
squirrels <- read_csv("data/nyc_squirrels.csv")
squirrels %>% 
  select(age, above_ground_sighter_measurement) %>% 
  mutate(age = factor(age,
                      levels = c("Juvenile", "Adult")),
         height = parse_number(above_ground_sighter_measurement)) %>% 
  filter(!is.na(age), !is.na(height)) %>%
  ggplot(aes(height, fill = age)) +
  geom_histogram(aes(y = stat(density)),
                 position = "identity",
                 alpha = 0.4, color = "black",
                 binwidth = 5) +
  scale_fill_manual(values = c("#B00000", "#0900AB")) +
  theme_classic() +
  scale_y_continuous(expand = expansion(mult = c(0, 0.05)))
```


## Wrangling Data `dplyr`

TODO dplyr

## Behind the Magic 

### Handling data with base-R

TODO Not mutually exclusive!

todo
  subsetting, subsetting for 2D,
  subsetting with logical vectors
  extracting and manipulating columns

## Tidy data

(ref:tidy) Figure  https://r4ds.had.co.nz/tidy-data.html [@wickhamDataScienceImport2017] 

```{r tidy-definition, fig.cap="(ref:tidy)", out.extra="class=external", echo=FALSE}
include_graphics("https://d33wubrfki0l68.cloudfront.net/6f1ddb544fc5c69a2478e444ab8112fb0eea23f8/91adc/images/tidy-1.png")
```

> "Happy families are all alike;
  every unhappy family is unhappy in its own way."
  $-$ Leo Tolstoy

> Tidy datasets are all alike,
  but every messy dataset is messy in its own way."
  $-$ Hadley Wickham

todo why tidy data?

### Making Data Tidy

with the `tidyr` package.

### Data that is better in another Format

e.g. matrices
todo explain matrix, show matrix maths,
briefly touch on arrays

# Exercises

# Solutions

# Resources
